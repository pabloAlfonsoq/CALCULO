<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NovaCalc - Curso de Cálculo</title>

    <!-- 1. Estilos CSS: Todo el diseño futurista y minimalista va aquí -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

        :root {
            --bg-dark: #0D0C1D;
            --accent-cyan: #61DAFB;
            --accent-magenta: #C850C0;
            --text-primary: #E0E0E0;
            --text-secondary: #8A8A8A;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            overflow: hidden; /* Evita el scroll en el body principal */
        }

        .app-container {
            display: flex;
            height: 100vh; /* Ocupa toda la altura de la ventana */
        }

        /* --- Sidebar --- */
        .sidebar {
            width: 320px;
            flex-shrink: 0; /* Evita que el sidebar se encoja */
            background-color: var(--bg-dark);
            padding: 2rem 1.5rem;
            border-right: 1px solid var(--glass-border);
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Permite scroll solo en el sidebar si es necesario */
        }

        .sidebar-header {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--accent-cyan);
            text-align: center;
        }

        .sidebar-nav ul {
            list-style-type: none;
        }

        .sidebar-nav li {
            padding: 0.8rem 1rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
            font-weight: 400;
            color: var(--text-secondary);
            border: 1px solid transparent;
        }

        .sidebar-nav li:hover {
            background-color: var(--glass-bg);
            color: var(--text-primary);
        }

        .sidebar-nav li.active {
            background-color: var(--glass-bg);
            color: var(--accent-cyan);
            font-weight: 600;
            border: 1px solid var(--accent-cyan);
            transform: scale(1.02);
        }

        /* --- Main Content --- */
        .main-content {
            flex-grow: 1; /* Ocupa el espacio restante */
            padding: 2rem 3rem;
            overflow-y: auto; /* Permite scroll solo en el contenido principal */
        }

        .lesson-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .lesson-header .tagline {
            font-size: 1.2rem;
            color: var(--accent-cyan);
            margin-bottom: 2.5rem;
        }

        /* --- Lesson Card --- */
        .lesson-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .lesson-card h3 {
            color: var(--accent-cyan);
            margin-bottom: 1rem;
            font-size: 1.2rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--glass-border);
        }

        .lesson-card p, .lesson-card li {
            line-height: 1.7;
            color: var(--text-primary);
        }

        .lesson-card ul {
            list-style-position: inside;
            padding-left: 5px;
        }
        
        .lesson-card ul li {
          margin-bottom: 0.5rem;
        }
        
        .lesson-card strong {
          color: var(--accent-cyan);
        }

        /* --- Progress Bar --- */
        .progress-container {
            margin-top: auto; /* Pushes the bar to the bottom */
            padding-top: 1rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--glass-bg);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-magenta));
            border-radius: 4px;
            transition: width 0.5s ease-in-out;
        }
    </style>

    <!-- 2. Scripts de React y Babel desde CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

</head>
<body>

    <!-- 3. El punto de entrada para nuestra aplicación React -->
    <div id="root"></div>

    <!-- 4. Toda la lógica de la aplicación React va aquí, dentro de un script de tipo "text/babel" -->
    <script type="text/babel">
        // --- A. DATOS DEL CURSO ---
        const courseData = [
          {
            week: 1,
            title: "Nivelación y Funciones",
            tagline: "El Terreno de Juego",
            objectives: [
              "Resolver ecuaciones e inecuaciones algebraicas.",
              "Definir qué es una función, su dominio y su rango.",
              "Identificar y graficar funciones básicas.",
            ],
            concepts: {
              title: "Conceptos Clave",
              content: "El cálculo es el estudio de funciones. El álgebra es el lenguaje que usamos. Una función es una máquina que toma una entrada 'x' y devuelve una única salida 'y'. El 'Dominio' son todas las 'x' permitidas, y el 'Rango' son todas las 'y' resultantes."
            },
            example: {
              title: "Ejemplo Guiado: Dominio y Rango",
              problem: "Encontrar el dominio y rango de f(x) = √(x - 3)",
              steps: [
                "Identificar la restricción: El interior de una raíz cuadrada no puede ser negativo.",
                "Plantear la inecuación: x - 3 ≥ 0.",
                "Resolver: x ≥ 3. El dominio es [3, ∞).",
                "Analizar la salida: La raíz cuadrada siempre devuelve un número no negativo. El valor más pequeño es √0 = 0.",
                "Conclusión: El rango es [0, ∞)."
              ]
            },
            practice: {
              title: "Ejercicios de Práctica",
              items: [
                "Básico: Hallar el dominio de g(x) = 1 / (x + 2).",
                "Intermedio: Hallar el dominio y rango de h(x) = x² + 5.",
                "Desafío: Hallar el dominio de k(x) = (√x) / (x - 4)."
              ]
            }
          },
          {
            week: 2,
            title: "Funciones y Transformaciones",
            tagline: "El Catálogo de Herramientas",
            objectives: ["Reconocer el catálogo de funciones (polinómicas, racionales, etc.)", "Aplicar transformaciones a la gráfica de una función.", "Calcular la composición de dos funciones, f(g(x))."],
            concepts: {
              title: "Conceptos Clave",
              content: "Las transformaciones rígidas (desplazamientos, reflexiones) mueven la gráfica sin cambiar su forma. La composición f(g(x)) significa aplicar 'g' primero y luego 'f' al resultado."
            },
            example: {
              title: "Ejemplo Guiado: Transformación",
              problem: "Dada f(x) = x², describir la gráfica de g(x) = (x - 3)² + 2.",
              steps: ["Función base: La parábola y = x².", "Transformación horizontal: 'x - 3' mueve la gráfica 3 unidades a la DERECHA.", "Transformación vertical: '+ 2' mueve la gráfica 2 unidades hacia ARRIBA.", "Conclusión: Es la parábola original con su vértice en el punto (3, 2)."]
            },
            practice: {
              title: "Ejercicios de Práctica",
              items: ["Describe la transformación de f(x) = |x| a g(x) = -|x + 1|.", "Si f(x) = sin(x) y g(x) = x³, calcula f(g(x))."]
            }
          },
          {
            week: 3,
            title: "Límites",
            tagline: "La Idea Central del Cálculo",
            objectives: ["Interpretar el significado de un límite.", "Resolver límites indeterminados de la forma 0/0.", "Interpretar límites al infinito como asíntotas horizontales."],
            concepts: {
              title: "Conceptos Clave",
              content: "Un límite describe a qué valor se acerca una función cuando 'x' se acerca a un punto, sin importar el valor exacto en ese punto. La forma 0/0 es una señal para hacer más trabajo algebraico (factorizar, racionalizar)."
            },
            example: {
              title: "Ejemplo Guiado: Límite Indeterminado",
              problem: "Calcular el límite de (x² - 4) / (x - 2) cuando x tiende a 2.",
              steps: ["Sustitución directa da 0/0. ¡Indeterminación!", "Factorizar el numerador: x² - 4 = (x - 2)(x + 2).", "Simplificar: Se cancela el término (x - 2).", "Evaluar el límite simplificado: lim (x + 2) cuando x tiende a 2 es 2 + 2 = 4."]
            },
            practice: {
              title: "Ejercicios de Práctica",
              items: ["Calcula lim (x²-1)/(x-1) cuando x tiende a 1.", "Calcula lim (3x²+1)/(x²-5) cuando x tiende a infinito."]
            }
          },
           {
            week: 4,
            title: "La Derivada",
            tagline: "El Cambio Instantáneo",
            objectives: ["Definir la continuidad en un punto.", "Entender la derivada como la pendiente de la recta tangente.", "Calcular una derivada usando la definición formal con límites."],
            concepts: {
              title: "Conceptos Clave",
              content: "La derivada f'(x) nos da la tasa de cambio instantánea de una función. Geométricamente, es la pendiente de la línea tangente a la curva en un punto. Se define como el límite: f'(x) = lim (h->0) de [f(x+h) - f(x)] / h."
            },
            example: {
              title: "Ejemplo Guiado: Derivada por Definición",
              problem: "Encontrar la derivada de f(x) = x² usando la definición.",
              steps: ["Plantear el límite: lim (h->0) de [(x+h)² - x²] / h.", "Expandir (x+h)²: x² + 2xh + h².", "Simplificar el numerador: (x² + 2xh + h² - x²) / h = (2xh + h²) / h.", "Factorizar y cancelar h: h(2x + h) / h = 2x + h.", "Evaluar el límite: lim (h->0) de (2x + h) es 2x."]
            },
            practice: {
              title: "Ejercicios de Práctica",
              items: ["Usando la definición, encuentra la derivada de f(x) = 3x + 2.", "Explica por qué una función no puede ser derivable en un punto si tiene un 'pico' (como y=|x| en x=0)."]
            }
          }
        ];

        // --- B. COMPONENTES DE REACT ---

        const ProgressBar = ({ current, total }) => {
            const progressPercentage = total > 0 ? (current / total) * 100 : 0;
            return (
                <div className="progress-container">
                    <p>{`Progreso: Semana ${current} de ${total}`}</p>
                    <div className="progress-bar">
                        <div
                            className="progress-bar-fill"
                            style={{ width: `${progressPercentage}%` }}
                        />
                    </div>
                </div>
            );
        };

        const Sidebar = ({ lessons, currentWeek, onSelectWeek }) => {
            return (
                <aside className="sidebar">
                    <div>
                        <h2 className="sidebar-header">NovaCalc</h2>
                        <nav className="sidebar-nav">
                            <ul>
                                {lessons.map((lesson) => (
                                    <li
                                        key={lesson.week}
                                        className={lesson.week === currentWeek ? 'active' : ''}
                                        onClick={() => onSelectWeek(lesson.week)}
                                    >
                                        Semana {lesson.week}: {lesson.title}
                                    </li>
                                ))}
                            </ul>
                        </nav>
                    </div>
                    <ProgressBar current={currentWeek} total={lessons.length} />
                </aside>
            );
        };

        const LessonCard = ({ title, children }) => {
            return (
                <div className="lesson-card">
                    <h3>{title}</h3>
                    {children}
                </div>
            );
        };

        const LessonView = ({ lesson }) => {
            if (!lesson) {
                return <div className="main-content"><h1>Bienvenido a NovaCalc</h1><p>Selecciona una lección del menú para comenzar tu viaje por el cálculo.</p></div>;
            }

            return (
                <main className="main-content">
                    <header className="lesson-header">
                        <h1>{lesson.title}</h1>
                        <p className="tagline">{lesson.tagline}</p>
                    </header>

                    <LessonCard title="🎯 Objetivos de Aprendizaje">
                        <ul>
                            {lesson.objectives.map((obj, index) => <li key={index}>{obj}</li>)}
                        </ul>
                    </LessonCard>

                    <LessonCard title="💡 Conceptos Clave">
                        <p>{lesson.concepts.content}</p>
                    </LessonCard>

                    <LessonCard title="🔬 Ejemplo Guiado">
                        <p><strong>Problema:</strong> {lesson.example.problem}</p>
                        <br />
                        <strong>Pasos:</strong>
                        <ul>
                            {lesson.example.steps.map((step, index) => <li key={index}>{step}</li>)}
                        </ul>
                    </LessonCard>

                    <LessonCard title="✍️ Práctica">
                        <ul>
                            {lesson.practice.items.map((item, index) => <li key={index}>{item}</li>)}
                        </ul>
                    </LessonCard>
                </main>
            );
        };
        
        // --- C. COMPONENTE PRINCIPAL DE LA APP ---

        function App() {
            const [currentWeek, setCurrentWeek] = React.useState(1);
            const activeLesson = courseData.find(lesson => lesson.week === currentWeek);

            return (
                <div className="app-container">
                    <Sidebar
                        lessons={courseData}
                        currentWeek={currentWeek}
                        onSelectWeek={setCurrentWeek}
                    />
                    <LessonView lesson={activeLesson} />
                </div>
            );
        }

        // --- D. RENDERIZAR LA APP EN EL DOM ---
        
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>